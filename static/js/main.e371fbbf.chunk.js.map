{"version":3,"sources":["store/ducks/map.js","services/api.js","store/ducks/marker.js","store/ducks/index.js","store/index.js","globalStyle.js","pages/Main/styles.js","components/Add/styles.js","components/Add/index.js","components/Map/styles.js","components/Map/index.js","components/MarkersList/styles.js","components/MarkersList/index.js","pages/Main/index.js","App.js","index.js"],"names":["Types","CHANGE_COORDINATES","INITIAL_STATE","latitude","longitude","zoom","Creators","changeCoordinates","coordinates","type","api","axios","create","baseURL","ADD_REQUEST","ADD_SUCCESS","ADD_FAILURE","REMOVE","loading","markers","error","addMarkerRequest","marker","dispatch","user","Promise","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","resolve","reject","_ref2","data","errorMessage","wrap","_context","prev","next","get","sent","t0","response","status","stop","_x","_x2","apply","this","arguments","then","addMarkerSuccess","objectSpread","catch","err","addMarkerFailure","payload","removeMarker","id","combineReducers","map","state","length","undefined","action","concat","toConsumableArray","filter","middlewares","thunk","composer","applyMiddleware","store","createStore","reducers","GlobalStyle","createGlobalStyle","_templateObject","Container","styled","div","styles_templateObject","Add_styles_templateObject","Form","form","_templateObject2","Add","userInput","toastId","handleSubmit","e","preventDefault","_this","props","_","toast","configure","autoClose","draggable","update","render","TYPE","ERROR","cancelInsertion","setState","userInputText","focus","_this2","react_default","createElement","styles_Container","react_toastify","placeholder","onChange","target","value","ref","input","onClick","Component","connect","bindActionCreators","MarkerActions","UserMarker","img","Map_styles_templateObject","Map","isInserting","insertingCoordinates","viewport","width","window","innerWidth","height","innerHeight","_resize","handleViewportChange","handleMapClick","_e$lngLat","slicedToArray","lngLat","handleCancelInsertion","addEventListener","removeEventListener","react","esm","assign","mapStyle","mapboxApiAccessToken","process","onViewportChange","key","src","avatar_url","alt","login","components_Add","MapActions","MarkersList_styles_templateObject","Marker","li","styles_templateObject2","library","add","faChevronRight","faTrashAlt","MarkersList","handleDelete","handleFocusUser","userMarker","find","MarkersList_styles_Container","className","name","react_fontawesome_index_es","icon","Main","components_Map","components_MarkersList","App","es","globalStyle","pages_Main","require","config","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e371fbbf.chunk.js","sourcesContent":["// TYPES\n\nexport const Types = {\n  CHANGE_COORDINATES: 'map/CHANGE_COORDINATES'\n}\n\n// REDUCERS\n\nconst INITIAL_STATE = {\n  latitude: -23.5848,\n  longitude: -46.6559,\n  zoom: 14\n}\n\nexport default function map (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case Types.CHANGE_COORDINATES:\n      return action.coordinates\n    default:\n      return state\n  }\n}\n\n// ACTIONS\nexport const Creators = {\n  changeCoordinates: coordinates => ({\n    type: Types.CHANGE_COORDINATES,\n    coordinates\n  })\n}\n","import axios from 'axios'\n\nconst api = axios.create({\n  baseURL: 'https://api.github.com/users/'\n})\n\nexport const getUser = user => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const { data } = await api.get(user)\n      resolve(data)\n    } catch (err) {\n      let errorMessage\n      if (err.response.status === 404) errorMessage = 'Usuário não encontrado'\n      else errorMessage = 'Erro ao buscar usuário'\n      reject(errorMessage)\n    }\n  })\n}\n\nexport default api\n","import { getUser } from '../../services/api'\n\n// TYPES\n\nexport const Types = {\n  ADD_REQUEST: 'markers/ADD_REQUEST',\n  ADD_SUCCESS: 'markers/ADD_SUCCESS',\n  ADD_FAILURE: 'markers/ADD_FAILURE',\n  REMOVE: 'markers/REMOVE'\n}\n\n// REDUCERS\n\nconst INITIAL_STATE = {\n  loading: false,\n  markers: [],\n  error: null\n}\n\nexport default function markers (state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case Types.ADD_REQUEST:\n      return { ...state, loading: true, error: null }\n    case Types.ADD_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        markers: [\n          ...state.markers.filter(user => user.id !== action.payload.data.id),\n          action.payload.data\n        ],\n        error: null\n      }\n    case Types.ADD_FAILURE:\n      return { ...state, loading: false, error: action.payload.error }\n    case Types.REMOVE:\n      return {\n        ...state,\n        markers: state.markers.filter(marker => action.payload.id !== marker.id)\n      }\n    default:\n      return state\n  }\n}\n\n// ACTIONS\n\nexport const Creators = {\n  addMarkerRequest: marker => {\n    return function (dispatch) {\n      dispatch({ type: Types.ADD_REQUEST })\n      return getUser(marker.user)\n        .then(data => {\n          dispatch(\n            Creators.addMarkerSuccess({\n              ...data,\n              latitude: marker.latitude,\n              longitude: marker.longitude\n            })\n          )\n        })\n        .catch(err => dispatch(Creators.addMarkerFailure(err)))\n    }\n  },\n  addMarkerSuccess: data => ({\n    type: Types.ADD_SUCCESS,\n    payload: { data }\n  }),\n  addMarkerFailure: error => ({\n    type: Types.ADD_FAILURE,\n    payload: { error }\n  }),\n  removeMarker: id => ({\n    type: Types.REMOVE,\n    payload: { id }\n  })\n}\n","import { combineReducers } from 'redux'\nimport map from './map'\nimport markers from './marker'\n\nexport default combineReducers({ map, markers })\n","import { createStore, compose, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport reducers from './ducks'\n\nconst middlewares = [thunk]\n\nconst composer =\n  process.env.NODE_ENV === 'development'\n    ? compose(\n      applyMiddleware(...middlewares),\n      console.tron.createEnhancer()\n    )\n    : applyMiddleware(...middlewares)\n\nconst store = createStore(reducers, composer)\n\nexport default store\n","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n  body {\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n  }\n`\n\nexport default GlobalStyle\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  height: 100vh;\n  width: 100vw;\n  background: blue;\n  position: relative;\n`\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  height: 100vh;\n  width: 100vw;\n  background: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n`\n\nexport const Form = styled.form`\n  width: 300px;\n  background: #ededed;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 5px;\n  padding: 10px;\n  input {\n    margin-top: 10px;\n    width: 100%;\n    height: 30px;\n    padding: 0 10px;\n    font-size: 12px;\n    font-weight: bold;\n    border-radius: 5px;\n    border: 0;\n  }\n  input::placeholder {\n    color: #dbdbdb;\n  }\n  div {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n  button {\n    font-size: 12px;\n    font-weight: bold;\n    background: #bababa;\n    color: #fff;\n    width: 135px;\n    height: 30px;\n    border-radius: 5px;\n    &:hover {\n      background: #656565;\n    }\n    &:last-child {\n      background: #03b303;\n      &:hover {\n        background: #027902;\n      }\n    }\n  }\n  span {\n    font-size: 10px;\n    color: #bababa;\n  }\n`\n","import React, { Component } from 'react'\nimport { Container, Form } from './styles'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport PropTypes from 'prop-types'\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.min.css'\n\nimport { Creators as MarkerActions } from '../../store/ducks/marker'\n\nclass Add extends Component {\n  state = {\n    userInput: ''\n  }\n\n  toastId = null\n\n  componentDidMount() {\n    this.userInputText.focus()\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    this.props\n      .addMarkerRequest({\n        user: this.state.userInput,\n        latitude: this.props.coordinates[0],\n        longitude: this.props.coordinates[1]\n      })\n      .then(_ => {\n        if (!this.props.error) {\n          this.props.cancelInsertion()\n        } else {\n          toast.configure({\n            autoClose: 5000,\n            draggable: false\n          })\n          toast.update(this.toastId, {\n            render: this.props.error,\n            type: toast.TYPE.ERROR,\n            autoClose: true\n          })\n        }\n      })\n    this.setState({ userInput: '' })\n  }\n\n  render() {\n    if (this.props.loading) {\n      this.toastId = toast('Carregando usuário...', { autoClose: false })\n    }\n    return (\n      <Container>\n        <ToastContainer />\n        {!this.props.loading && (\n          <Form>\n            <h4>Adicionar novo usuário</h4>\n            <input\n              type=\"text\"\n              placeholder=\"Usuário no Github\"\n              onChange={e => this.setState({ userInput: e.target.value })}\n              value={this.state.userInput}\n              ref={input => {\n                this.userInputText = input\n              }}\n            />\n            <div>\n              <button onClick={this.props.cancelInsertion} type=\"button\">\n                Cancelar\n              </button>\n              <button type=\"submit\" onClick={this.handleSubmit}>\n                Salvar\n              </button>\n            </div>\n            <span>Latitude: {this.props.coordinates[0]}</span>\n            <span>Longitude: {this.props.coordinates[1]}</span>\n          </Form>\n        )}\n      </Container>\n    )\n  }\n  static propTypes = {\n    loading: PropTypes.bool.isRequired,\n    error: PropTypes.string\n  }\n}\n\nconst mapStateToProps = state => ({\n  loading: state.markers.loading,\n  error: state.markers.error\n})\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    { addMarkerRequest: MarkerActions.addMarkerRequest },\n    dispatch\n  )\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Add)\n","import styled from 'styled-components'\n\nexport const UserMarker = styled.img`\n  height: 70px;\n  border-radius: 50%;\n  border: 5px solid #896cfe;\n`\n","import React, { Component, Fragment } from 'react'\nimport ReactMapGL, { Marker } from 'react-map-gl'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport PropTypes from 'prop-types'\n\nimport { Creators as MapActions } from '../../store/ducks/map'\n\nimport Add from '../Add'\n\nimport { UserMarker } from './styles'\n\nclass Map extends Component {\n  state = {\n    isInserting: false,\n    insertingCoordinates: [],\n    viewport: {\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n  }\n  componentDidMount() {\n    window.addEventListener('resize', this._resize)\n    this._resize()\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this._resize)\n  }\n\n  _resize = () => {\n    this.setState({\n      viewport: {\n        ...this.state.viewport,\n        width: window.innerWidth,\n        height: window.innerHeight\n      }\n    })\n  }\n\n  handleViewportChange = viewport => {\n    this.props.changeCoordinates({\n      latitude: viewport.latitude,\n      longitude: viewport.longitude,\n      zoom: viewport.zoom\n    })\n  }\n\n  handleMapClick = e => {\n    const [longitude, latitude] = e.lngLat\n    this.setState({\n      isInserting: true,\n      insertingCoordinates: [latitude, longitude]\n    })\n  }\n\n  handleCancelInsertion = _ => {\n    this.setState({ isInserting: false, insertingCoordinates: [] })\n  }\n\n  render() {\n    const { markers } = this.props\n    return (\n      <Fragment>\n        <ReactMapGL\n          {...this.state.viewport}\n          {...this.props.coordinates}\n          mapStyle=\"mapbox://styles/mapbox/basic-v9\"\n          mapboxApiAccessToken={process.env.REACT_APP_MAP_KEY}\n          onViewportChange={viewport => this.handleViewportChange(viewport)}\n          onClick={this.handleMapClick}\n        >\n          {markers.map(marker => (\n            <Marker\n              latitude={marker.latitude}\n              longitude={marker.longitude}\n              zoom={14}\n              key={marker.id}\n            >\n              <UserMarker\n                src={marker.avatar_url}\n                alt={`${marker.login} marker`}\n              />\n            </Marker>\n          ))}\n        </ReactMapGL>\n        {this.state.isInserting && (\n          <Add\n            coordinates={this.state.insertingCoordinates}\n            cancelInsertion={this.handleCancelInsertion}\n          />\n        )}\n      </Fragment>\n    )\n  }\n  static propTypes = {\n    changeCoordinates: PropTypes.func.isRequired,\n    coordinates: PropTypes.shape({\n      latitude: PropTypes.number,\n      longitude: PropTypes.number,\n      zoom: PropTypes.number\n    })\n  }\n}\n\nconst mapStateToProps = state => ({\n  coordinates: state.map,\n  markers: state.markers.markers\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators(MapActions, dispatch)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Map)\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  background-color: #fff;\n  box-shadow: 0px 0px 8px 1px rgba(0, 0, 0, 0.4);\n  width: 350px;\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  bottom: 20px;\n  border-radius: 3px;\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    -webkit-appearance: none;\n    width: 7px;\n  }\n  ::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.3);\n    -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n  }\n`\nexport const Marker = styled.li`\n  display: flex;\n  padding: 10px 10px;\n  border-bottom: 1px solid #f2f2f2;\n  font-size: 14px;\n  &:hover {\n    background: #f2f2f2;\n  }\n  .empty {\n    text-align: center;\n    margin: 0 auto;\n    color: #bababa;\n    font-weight: bold;\n    margin-top: 20px;\n    height: 40px;\n  }\n  img {\n    height: 50px;\n    border-radius: 50%;\n  }\n  .info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height: 50px;\n    flex-grow: 1;\n    span {\n      color: #959595;\n    }\n    padding-left: 10px;\n  }\n  .actions {\n    display: flex;\n    align-items: center;\n    button {\n      font-size: 16px;\n      border: none;\n      width: 30px;\n      height: 30px;\n      color: #959595;\n      background: transparent;\n    }\n    button:first-child {\n      color: red;\n      &:hover {\n        background: red;\n        color: #fff;\n      }\n    }\n  }\n`\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Creators as MarkerActions } from '../../store/ducks/marker'\nimport { Creators as MapActions } from '../../store/ducks/map'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt, faChevronRight } from '@fortawesome/free-solid-svg-icons'\n\nimport { Container, Marker } from './styles'\n\nlibrary.add(faChevronRight, faTrashAlt)\n\nclass MarkersList extends Component {\n  handleDelete = id => {\n    this.props.removeMarker(id)\n  }\n\n  handleFocusUser = id => {\n    const { markers } = this.props\n    const userMarker = markers.find(mark => mark.id === id)\n    this.props.changeCoordinates({\n      latitude: userMarker.latitude,\n      longitude: userMarker.longitude,\n      zoom: 14\n    })\n  }\n\n  render() {\n    const { markers } = this.props\n    return (\n      <Container>\n        <ul>\n          {!!markers &&\n            markers.map(user => (\n              <Marker\n                key={user.id}\n                onClick={() => this.handleFocusUser(user.id)}\n              >\n                <img src={user.avatar_url} alt=\"Avatar\" />\n                <div className=\"info\">\n                  <strong>{user.name}</strong>\n                  <span>{user.login}</span>\n                </div>\n                <div className=\"actions\">\n                  <button onClick={() => this.handleDelete(user.id)}>\n                    <FontAwesomeIcon icon=\"trash-alt\" />\n                  </button>\n                  <button onClick={() => this.handleFocusUser(user.id)}>\n                    <FontAwesomeIcon icon=\"chevron-right\" />\n                  </button>\n                </div>\n              </Marker>\n            ))}\n          {markers.length === 0 && (\n            <Marker>\n              <span className=\"empty\">\n                Clique no mapa para inserir um usuário\n              </span>\n            </Marker>\n          )}\n        </ul>\n      </Container>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  markers: state.markers.markers\n})\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      removeMarker: MarkerActions.removeMarker,\n      changeCoordinates: MapActions.changeCoordinates\n    },\n    dispatch\n  )\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MarkersList)\n","import React from 'react'\n\nimport { Container } from './styles'\n\nimport Map from '../../components/Map'\nimport MarkersList from '../../components/MarkersList'\n\nconst Main = () => {\n  return (\n    <Container>\n      <Map />\n      <MarkersList />\n    </Container>\n  )\n}\n\nexport default Main\n","import React, { Fragment } from 'react'\nimport { Provider } from 'react-redux'\nimport './config/ReactotronConfig'\nimport store from './store'\n\nimport GlobalStyle from './globalStyle'\nimport Main from './pages/Main'\n\nconst App = () => (\n  <Provider store={store}>\n    <Fragment>\n      <GlobalStyle />\n      <Main />\n    </Fragment>\n  </Provider>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nrequire('dotenv').config()\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}